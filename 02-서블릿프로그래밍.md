# Java Servlet

### CGI
 * Common Gateway Interface
 * 웹 서버와 웹 애플리케이션 사이의 데이터를 주고받는 규칙
 * 웹 서버에 의해 실행
 * CGI 프로그램 : CGI 규칙에 따라서 웹 서버와 데이터를 주고 받도록 작성된 프로그램
 * [웹 브라우저] <-응답/요청-> [웹 서버] <-결과/ "CGI규칙" /실행-> [프로그램]
 * 유형
    * 컴파일 방식 : 기계어로 번역된 코드를 바로 실행 -> 속도 빠름 / 변경 발생 시 마다 다시 컴파일하고 재배포
    * 인터프리터 방식 : 스크립트 언어로 작성된 코드는 실행할 때마다 코드의 문법을 검증하고 해석 -> 속도 느림 / 변경 발생 시 코드 수정하고 저장만 하면 됨

### Servlet
 * Java로 만든 웹 애플리케이션
 * 클라이언트에게 서비스를 제공하는 작은 단위의 서버 프로그램
 * Java코드 안에 HTML을 포함
 * WAS를 통해 컴파일 된 후 Cliet의 HTTP GET, POST 등의 요청 처리
 * 이미지 TO BE ADDED

### Servlet Container
 * 서블릿의 생성과 실행, 소멸 등 생명주기를 관리하는 프로그램
 * 컨테이너가 서블릿을 대신하여 CGI 규칙에 따라 웹 서버와 데이터를 주고 받음
 * 서블릿 개발자는 더이상 CGI규칙에 대해 알 필요X / 대신 서블릿과 서블릿 컨테이너 사이의 규칙을 알아야
 * [웹 서버] <-결과리턴/ "CGI규칙" /요청위임-> [서블릿 컨테이너] <-결과/ "서블릿규칙" /실행-> [서블릿]

### WAS
 * Web Application Server
 * Application Server : 클라이언트 서버 시스템 구조에서 서버 쪽 애플리케이션의 생성과 실행, 소멸을 관리하는 프로그램
 * Web Application Server
    * 서블릿과 서블릿 컨테이너와 같이 웹 기술을 기반으로 동작되는 애플리케이션 서버
    * 특히 Java에서는 Java EE 기술 사양을 준수하여 만든 서버를 가리킴 = Java EE 구현체(Implementation)

<img width="604" alt="스크린샷 2020-01-30 오후 9 24 49" src="https://user-images.githubusercontent.com/24239447/73449657-03c40980-43a7-11ea-94dc-7c9c4ddf8dff.png">

</br>

# javax.servlet.Servlet 인터페이스
`public class HelloWorld implements Servlet`

### 생명주기 관련 메서드
    * init() : 서블릿 생성 후 초기화 / DB 연결, 외부 스토리지 서버 연결, 프로퍼티 로딩 등) / 서블릿 인스턴스 생성 후 딱 한 번 호출
    * service() : 클라이언트가 요청할 때 마다 호출 / 실질적인 서비스 작업 수행
    * destroy() : 서블릿 컨테이너가 종료되거나 웹 애플리케이션이 멈출 때, 해당 서블릿을 비활성화 시킬 때 / 확보했던 자원 해제, 데이터 저장

### 기타 메서드
    * getServletConfig() : ServletConfig 객체 반환
    * getServletInfo() : 서블릿 버전, 권리 등을 담은 문자열 반환

###  구동 절차
 * 클라이언트 요청 -> 서블릿 컨테이너는 서블릿 인스턴스 찾는다
    * 없다면 서블릿 클래스 로딩
    * 인스턴스 준비
    * 생성자 호출
 * init() 호출 : 서블릿 인스턴스 생성 후 딱 한 번 호출
 * service() 호출
 * service 매서드에서 만들 결과를 HTTP 프로토콜에 맞추어 클라이언트에 응답
 * 서블릿 컨테이너 종료 or 웹 애플리케이션 종료 -> 생성된 모든 서블릿에 대해 destroy() 호출

</br>

# javax.servlet.GenericServlet 추상클래스
`public class HelloWorld extends GenericServlet`

### 인터페이스 vs 추상 클래스
 * 인터페이스
    * 호출자와 피호출자 사이의 호출 규칙
    * 호출하는 메서드 정의
    * Servlet 인터페이스 : 호출자 = 톰켓서버, 피호출자 = 자바프로그램(서블릿 클래스)
    * 인터페이스에 선언된 모든 메서드를 구현해야한다ㅠㅠ -> 특별히 준비할 작업이 없다면 init()과 destroy()는 구현하고 싶지 않는데...
 * 추상 클래스
    * 서브 클래스들의 공통적인 속성이나 메서드를 가지고 있는 클래스
    * 자체가 직접 쓰이기보다는 서브 클래스들에게 상속하기 위한 목적
    * 자바프로그램은 GenericServlet 추상 클래스를 상속 받아서 service()메서드만 구현하면 된다!
    * 나머지 4가지 메서드는 미리 구현하여 상속
